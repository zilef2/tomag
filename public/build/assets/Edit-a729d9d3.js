import{k as E,T,x as B,C as M,f as u,a as n,w as f,o as m,b as o,t as i,F as N,j as O,u as a,d as U,n as z,e as D}from"./app-64491542.js";import{_}from"./InputError-fa3e1639.js";import{_ as g,a as $}from"./TextInput-8835f8f7.js";import{_ as L,a as R}from"./SecondaryButton-4a877555.js";import{_ as A}from"./PrimaryButton-4c3adb2e.js";import{_ as G}from"./SelectInput-457de6e4.js";import{o as H}from"./vue-datepicker-265c879c.js";/* empty css             */import{C as I}from"./vue-select-d9b12732.js";const J={class:"space-y-6"},K=["onSubmit"],P={class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},Q={class:"font-medium text-gray-900 dark:text-gray-100 mb-2"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},X={key:0,id:"SelectVue",class:"mt-2"},Y={class:"inline-flex"},Z={name:"labelSelectVue"},ee={class:"text-lg ml-1 font-bold"},le={key:1,id:"SelectVue"},se={class:"inline-flex"},ae={class:"text-lg ml-1 font-bold"},oe={key:2,id:"SelectVue"},de={class:"inline-flex"},ne={class:"text-lg ml-1 font-bold"},te={key:3,class:""},ie={class:"inline-flex"},re={class:"text-lg ml-1 font-bold"},ce={class:"inline-flex"},ue=o("small",{class:"text-lg ml-1 font-bold"}," * ",-1),me={class:"flex justify-end my-8"},be={__name:"Edit",props:{show:Boolean,title:String,user:Object,titulos:Object,roles:Object},emits:["close"],setup(p,{emit:h}){var k;const d=p,v=E({params:{pregunta:""},onceTime:!0,sexo:[{title:"Masculino",value:"Masculino"},{title:"Femenino",value:"Femenino"}]}),C=d.titulos.map(s=>s.order);let e=T({...Object.fromEntries(C.map(s=>[s,""])),role:""});const y=[];d.titulos.forEach(s=>y.push({idd:s.order,label:s.label,type:s.type}));const V=()=>{var s;e.put(route("user.update",(s=d.user)==null?void 0:s.id),{preserveScroll:!0,onSuccess:()=>{h("close"),e.reset()},onError:()=>null,onFinish:()=>null})};B(()=>{var s,r,l,c,t,b,w,x,S,q;d.show?(e.errors={},e.name=(s=d.user)==null?void 0:s.name,e.email=(r=d.user)==null?void 0:r.email,e.role=((l=d.user)==null?void 0:l.roles)==0?"":(c=d.user)==null?void 0:c.roles[0].name,e.identificacion=(t=d.user)==null?void 0:t.identificacion,e.sexo=(b=d.user)==null?void 0:b.sexo,e.fecha_nacimiento=(w=d.user)==null?void 0:w.fecha_nacimiento,e.celular=(x=d.user)==null?void 0:x.celular,e.area=(S=d.user)==null?void 0:S.area,e.cargo=(q=d.user)==null?void 0:q.cargo,v.onceTime=!1):(e.name=null,e.email=null,e.role=null,e.identificacion=null,e.sexo=null,e.fecha_nacimiento=null,e.celular=null,e.area=null,e.cargo=null)}),M(()=>{});const j=(k=d.roles)==null?void 0:k.map(s=>({label:s.name.replace(/_/g," "),value:s.name})),F=["year","month","calendar"];return(s,r)=>(m(),u("section",J,[n(L,{show:d.show,onClose:r[2]||(r[2]=l=>h("close"))},{default:f(()=>[o("form",{class:"p-6 mb-12",onSubmit:D(V,["prevent"])},[o("h2",P,i(s.lang().label.edit)+" "+i(d.title),1),o("h3",Q,i(s.lang().label.RequiredFields),1),o("div",W,[(m(),u(N,null,O(y,(l,c)=>o("div",{key:c},[l.type==="foreign"?(m(),u("div",X,[o("div",Y,[o("label",Z,i(l.label),1),o("small",ee,i(p.titulos[c].required?"*":"ㅤ"),1)]),n(a(I),{options:v[l.idd],label:"title",class:"text-lg h-8",modelValue:a(e)[l.idd],"onUpdate:modelValue":t=>a(e)[l.idd]=t},null,8,["options","modelValue","onUpdate:modelValue"]),n(_,{class:"mt-2",message:a(e).errors[l.idd]},null,8,["message"])])):l.type==="time"?(m(),u("div",le,[o("div",se,[n(g,{for:l.label,value:s.lang().label[l.label]},null,8,["for","value"]),o("small",ae,i(p.titulos[c].required?"*":"ㅤ"),1)]),n($,{id:l.idd,type:l.type,class:"mt-1 block w-full",modelValue:a(e)[l.idd],"onUpdate:modelValue":t=>a(e)[l.idd]=t,required:"",placeholder:l.label,error:a(e).errors[l.idd],step:"3600"},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),n(_,{class:"mt-2",message:a(e).errors[l.idd]},null,8,["message"])])):l.type==="date"?(m(),u("div",oe,[o("div",de,[n(g,{for:l.label,value:s.lang().label[l.label]},null,8,["for","value"]),o("small",ne,i(p.titulos[c].required?"*":"ㅤ"),1)]),n(a(H),{"is-24":!1,"day-names":s.daynames,format:s.formatToVue,flow:F,"auto-apply":"","enable-time-picker":!1,id:l.idd,class:"mt-1 block w-full",modelValue:a(e)[l.idd],"onUpdate:modelValue":t=>a(e)[l.idd]=t,required:"",placeholder:l.label,error:a(e).errors[l.idd]},null,8,["day-names","format","id","modelValue","onUpdate:modelValue","placeholder","error"]),n(_,{class:"mt-2",message:a(e).errors[l.idd]},null,8,["message"])])):(m(),u("div",te,[o("div",ie,[n(g,{for:l.label,value:s.lang().label[l.label]},null,8,["for","value"]),o("small",re,i(p.titulos[c].required?"*":"ㅤ"),1)]),n($,{id:l.idd,type:l.type,class:"mt-1 block w-full",modelValue:a(e)[l.idd],"onUpdate:modelValue":t=>a(e)[l.idd]=t,required:"",placeholder:l.label,error:a(e).errors[l.idd]},null,8,["id","type","modelValue","onUpdate:modelValue","placeholder","error"]),n(_,{class:"mt-2",message:a(e).errors[l.idd]},null,8,["message"])]))])),64)),o("div",null,[o("div",ce,[n(g,{for:"role",value:s.lang().label.role},null,8,["value"]),ue]),n(G,{id:"role",class:"mt-1 block w-full",modelValue:a(e).role,"onUpdate:modelValue":r[0]||(r[0]=l=>a(e).role=l),required:"",dataSet:a(j)},null,8,["modelValue","dataSet"]),n(_,{class:"mt-2",message:a(e).errors.role},null,8,["message"])])]),o("div",me,[n(R,{disabled:a(e).processing,onClick:r[1]||(r[1]=l=>h("close"))},{default:f(()=>[U(i(s.lang().button.close),1)]),_:1},8,["disabled"]),n(A,{class:z(["ml-3",{"opacity-25":a(e).processing}]),disabled:a(e).processing,onClick:V},{default:f(()=>[U(i(a(e).processing?s.lang().button.save+"...":s.lang().button.save),1)]),_:1},8,["class","disabled"])])],40,K)]),_:1},8,["show"])]))}};export{be as default};
