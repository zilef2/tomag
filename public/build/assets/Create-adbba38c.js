import{k,T as E,C as $,x,f as p,a as r,w as d,o as _,b as a,t as c,F as B,j as N,u as s,d as m,n as F,e as M}from"./app-64491542.js";import{_ as v}from"./InputError-fa3e1639.js";import{_ as O,a as H}from"./TextInput-8835f8f7.js";import{_ as U,a as T}from"./SecondaryButton-4a877555.js";import{_ as f}from"./PrimaryButton-4c3adb2e.js";import{C as q}from"./vue-select-d9b12732.js";import"./vue-datepicker-265c879c.js";/* empty css             */const z={class:"space-y-6"},D=["onSubmit"],L={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},A={id:"SelectVue"},G=a("label",{name:"labelSelectVue"}," Centro de trabajo ",-1),I={class:""},J={class:"flex my-5 gap-8"},K={class:"my-8 flex justify-end"},se={__name:"Create",props:{show:Boolean,title:String,roles:Object,titulos:Object,losSelect:Object,numberPermissions:Number},emits:["close"],setup(h,{emit:u}){const n=h,l=k({params:{pregunta:""},centros:[0],valido:!0,mensajeError:""}),y=n.titulos.map(o=>o.order),e=E({...Object.fromEntries(y.map(o=>[o,""])),centro_id:[n.losSelect[0]]});$(()=>{});const C=[];n.titulos.forEach(o=>C.push({idd:o.order,label:o.label,type:o.type}));let j=()=>{try{l.valido=!0,console.log("ðŸ§ˆ debu form.centro_id:",e.centro_id),e.centro_id.forEach(o=>{if(o.value===0)throw l.valido=!1,console.log("ðŸ§ˆ debu valido:",l.valido),new Error("BreakException")})}catch{}};const b=()=>{j(),l.valido?e.post(route("reproceso.store"),{preserveScroll:!0,onSuccess:()=>{u("close"),e.reset()},onError:()=>null,onFinish:()=>null}):l.mensajeError="Hay elementos vacios"};x(()=>{n.show&&(e.errors={})});function w(){l.centros.push(0),e.centro_id.push(n.losSelect[0])}let S=()=>{l.centros.length=l.centros.length-1,e.centro_id.length=e.centro_id.length-1};return(o,t)=>(_(),p("section",z,[r(U,{show:n.show,onClose:t[4]||(t[4]=i=>u("close"))},{default:d(()=>[a("form",{class:"p-6",onSubmit:M(b,["prevent"])},[a("h2",L,c(o.lang().label.add)+" "+c(n.title),1),a("div",P,[(_(!0),p(B,null,N(l.centros,(i,g)=>(_(),p("div",A,[G,r(s(q),{options:n.losSelect,label:"title",modelValue:s(e).centro_id[g],"onUpdate:modelValue":V=>s(e).centro_id[g]=V},null,8,["options","modelValue","onUpdate:modelValue"]),r(v,{class:"mt-2",message:s(e).errors.centro_id},null,8,["message"])]))),256)),a("div",I,[r(O,{for:"nombre",value:o.lang().label.nombre},null,8,["value"]),r(H,{id:"nombre",type:"text",class:"mt-1 block w-full",modelValue:s(e).nombre,"onUpdate:modelValue":t[0]||(t[0]=i=>s(e).nombre=i),required:"",placeholder:o.nombre,error:s(e).errors.nombre},null,8,["modelValue","placeholder","error"]),r(v,{class:"mt-2",message:s(e).errors.nombre},null,8,["message"])])]),a("div",J,[r(f,{type:"button",disabled:s(e).processing,onClick:t[1]||(t[1]=i=>w())},{default:d(()=>[m(" Mas centros ")]),_:1},8,["disabled"]),r(f,{type:"button",disabled:s(e).processing,onClick:t[2]||(t[2]=i=>s(S)())},{default:d(()=>[m(" Menos centros ")]),_:1},8,["disabled"])]),a("div",K,[r(T,{disabled:s(e).processing,onClick:t[3]||(t[3]=i=>u("close"))},{default:d(()=>[m(c(o.lang().button.close),1)]),_:1},8,["disabled"]),r(f,{class:F(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing,onClick:b},{default:d(()=>[m(c(o.lang().button.add)+" "+c(s(e).processing?+"...":""),1)]),_:1},8,["class","disabled"])])],40,D)]),_:1},8,["show"])]))}};export{se as default};
